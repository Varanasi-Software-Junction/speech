<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Synthetic Speak â€” Interactive Teaching System</title>
  <style>
    :root{ --bg:#f6f8fb; --accent-blue:#0b78d1; --accent-orange:#f97316; --shadow:0 6px 18px rgba(0,0,0,0.08) }
    html,body{height:100%;margin:0;background:var(--bg);font-family:Inter,system-ui,Arial,sans-serif}

    .teaching-area{position:fixed;top:16px;left:50%;transform:translateX(-50%);margin:0 auto;padding:18px;width:92%;max-width:920px;background:rgba(255,255,255,0.9);border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.12);display:flex;flex-direction:column;align-items:center;gap:14px;z-index:999;border:2px solid var(--accent-blue);transition:all 0.35s ease}

    .teaching-area.collapsed{left:auto;right:16px;top:12px;transform:none;width:240px;padding:10px;border-radius:10px;opacity:1}
    .teaching-area.collapsed .slides-container,
    .teaching-area.collapsed .dialogue-box{display:none}
    .teaching-area.collapsed .avatars{justify-content:flex-end}
    .teaching-area.collapsed .avatar-label{display:none}

    .toggle-btn{position:absolute;top:8px;right:10px;padding:6px 10px;background:var(--accent-blue);color:white;border:none;border-radius:6px;font-weight:700;cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,0.18);z-index:1000}

    #playBtn{padding:10px 16px;font-size:15px;font-weight:700;background:var(--accent-blue);color:#fff;border:0;border-radius:8px;cursor:pointer;box-shadow:0 6px 18px rgba(11,120,209,0.16)}

    .avatars{width:100%;display:flex;justify-content:space-between;align-items:center}
    .avatar-wrap{display:flex;flex-direction:column;align-items:center;gap:6px;width:140px}
    .avatar-svg{width:110px;height:110px;border-radius:50%;display:block}
    .avatar-label{font-weight:700;color:#0b1220;margin-top:6px;text-align:center}
    .avatar.speaking svg .mouth{animation:mouthMovement 220ms infinite}

    @keyframes mouthMovement{0%{transform:scaleY(0.7);}50%{transform:scaleY(1.25);}100%{transform:scaleY(0.8);}}

    .slides-container{display:flex;flex-direction:column;align-items:center;gap:10px;width:100%}
    .slide-column{width:92%;max-width:420px;height:140px;border-radius:10px;background:#fff;border:1px solid #eef6ff;box-shadow:0 6px 18px rgba(2,6,23,0.04);display:flex;align-items:center;justify-content:center;overflow:hidden;transition:background 0.3s ease,color 0.3s ease}
    .slide-column.teacher{background:rgba(11,120,209,0.2);color:#0b1220}
    .slide-column.student{background:rgba(249,115,22,0.2);color:#0b1220}
    .slide-text{padding:12px;font-weight:600;text-align:center}

    .dialogue-box{font-size:16px;font-weight:500;color:#0b1220;background:white;border-radius:8px;box-shadow:0 6px 18px rgba(2,6,23,0.06);padding:10px 12px;width:92%;max-width:760px;display:flex;align-items:center;justify-content:space-between;gap:10px;transition:background 0.3s ease}
    .dialogue-box.teacher{background:rgba(11,120,209,0.2)}
    .dialogue-box.student{background:rgba(249,115,22,0.2)}

    .dialogue-speaker{font-weight:700;color:var(--accent-blue);min-width:90px}

    textarea{display:none}
  </style>
</head>
<body>
  <div id="teachingarea" class="teaching-area">
    <button id="toggleBtn" class="toggle-btn">Collapse</button>

    <div class="avatars">
      <div class="avatar-wrap">
        <svg id="teacherAvatar" class="avatar avatar-svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="tGrad" x1="0" x2="1"><stop offset="0" stop-color="#0b78d1"/><stop offset="1" stop-color="#60a5fa"/></linearGradient>
          </defs>
          <rect width="120" height="120" rx="60" fill="url(#tGrad)"/>
          <circle cx="60" cy="38" r="18" fill="#fff"/>
          <g id="teacherMouth" class="mouth" transform="translate(60,65)">
            <ellipse cx="0" cy="0" rx="12" ry="4" fill="#0b1220"/>
          </g>
        </svg>
        <div class="avatar-label">Teacher</div>
      </div>

      <div style="flex:1"></div>

      <div class="avatar-wrap">
        <svg id="studentAvatar" class="avatar avatar-svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="sGrad" x1="0" x2="1"><stop offset="0" stop-color="#f97316"/><stop offset="1" stop-color="#fb923c"/></linearGradient>
          </defs>
          <rect width="120" height="120" rx="60" fill="url(#sGrad)"/>
          <circle cx="60" cy="38" r="18" fill="#fff"/>
          <g id="studentMouth" class="mouth" transform="translate(60,65)">
            <ellipse cx="0" cy="0" rx="12" ry="4" fill="#fff" stroke="#0b1220" stroke-width="1.4"/>
          </g>
        </svg>
        <div class="avatar-label">Student</div>
      </div>
    </div>

    <div class="slides-container">
      <div class="slide-column" id="slideTop"><div class="slide-text" id="slideTopText">(previous slide)</div></div>
      <div class="slide-column" id="slideBottom"><div class="slide-text" id="slideBottomText">(current slide)</div></div>
    </div>

    <div style="display:flex;gap:12px;align-items:center;width:92%;max-width:760px;justify-content:space-between">
      <div id="dialogueBox" class="dialogue-box" style="flex:1"><div id="currentSpeaker" class="dialogue-speaker"></div><div id="currentDialogue">Click Play to start</div></div>
      <button id="playBtn">Play</button>
    </div>
  </div>

  <textarea id="dialoguesText"></textarea>

  <script>
    const slideTop=document.getElementById('slideTop');
    const slideBottom=document.getElementById('slideBottom');
    const slideTopText=document.getElementById('slideTopText');
    const slideBottomText=document.getElementById('slideBottomText');
    const dialogueBox=document.getElementById('dialogueBox');

    function showSlide(line){
      slideTopText.textContent=slideBottomText.textContent;
      slideTop.className='slide-column';
      slideTop.classList.add(slideBottom.classList.contains('teacher')?'teacher':'student');
      slideBottomText.textContent=line.text;
      slideBottom.className='slide-column '+line.role;
      dialogueBox.className='dialogue-box '+line.role;
    }
  </script>
</body>
</html>
